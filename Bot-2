import datetime
import random
from typing import AsyncIterable
from unicodedata import name
from urllib import response

import discord
import requests
from discord.ext import commands, tasks
from discord.ui import Button, View

min = 1
max = 20

intents = discord.Intents.all()

bot = commands.Bot(command_prefix="!", intents=intents, case_insensitive=True)

@bot.event
async def on_ready():

    print(f"Nunca um sem o outro!")

@bot.command(name="Ficha")
async def send_token(ctx):
    url_image = "https://cdn.discordapp.com/attachments/568422237686726688/1036664977337090139/WhatsApp_Image_2022-07-23_at_16.56.52.jpeg"
    embed = discord.Embed(
        title = "Bernado Oliveira",
        description = "Acadêmico",
        color = 0x00FF00,
    )
    embed.add_field(name = "Classe", value = "Combatente")
    
    embed.add_field(name = 'Token', value=url_image, inline=False)
    
    await ctx.send(embed=embed)

@bot.command()
async def a(ctx):
    button = discord.ui.Button(label="Intelecto!", style=discord.ButtonStyle.green)
    button1 = discord.ui.Button(label="Força!", style=discord.ButtonStyle.green)
    button2 = discord.ui.Button(label="Agilidade!", style=discord.ButtonStyle.green)
    button3 = discord.ui.Button(label="Presença!", style=discord.ButtonStyle.green)
    button4 = discord.ui.Button(label="Vigor!", style=discord.ButtonStyle.green)
    
    
    async def button_callback(interaction):
        await interaction.response.send_message('Dado 1: '+ str(random.randint(min,max)) + ' | Dado 2: '+ str(random.randint(min,max)))
        
    button.callback = button_callback
    
    async def button_callback(interaction):
        await interaction.response.send_message('Dado 1: '+ str(random.randint(min,max)) + ' | Dado 2: '+ str(random.randint(min,max)) +" | Dado 3: " + str(random.randint(min,max)))
    
    button1.callback = button_callback
    
    async def button_callback(interaction):
        await interaction.response.send_message('Dado 1: '+ str(random.randint(min,max)) + ' | Dado 2: '+ str(random.randint(min,max)))
    
    button2.callback = button_callback
    
    async def button_callback(interaction):
        await interaction.response.send_message('Dado 1: '+ str(random.randint(min,max)))
    button3.callback = button_callback
    
    async def button_callback(interaction):
        await interaction.response.send_message('Dado 1: '+ str(random.randint(min,max)) + ' | Dado 2: '+ str(random.randint(min,max)))
        
    button4.callback = button_callback
    
    view = View()
    view.add_item(button)
    view.add_item(button1)
    view.add_item(button2)
    view.add_item(button3)
    view.add_item(button4)
    # view.remove_item()
    await ctx.send("Escolha seu atributo!",view=view)
    
    @bot.command()
    async def coin(ctx):
        a = random.randint(1,2)
        if a == 1:
            response = "Cara!"
        else:
            response = "Coroa!"


bot.run()
